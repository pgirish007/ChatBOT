import React from "react";
import "./VulnerabilityList.css"; // Add this to style the table

function VulnerabilityList({ vulnerabilities, onSelectVulnerability, setSeverityFilter }) {
  return (
    <div className="vuln-list">
      <h2>Vulnerabilities</h2>
      <label>Filter by Severity: </label>
      <select onChange={(e) => setSeverityFilter(e.target.value)}>
        <option value="">All</option>
        <option value="Critical">Critical</option>
        <option value="High">High</option>
        <option value="Medium">Medium</option>
        <option value="Low">Low</option>
      </select>

      <table className="vuln-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Severity</th>
            <th>Components</th>
            <th>Fix Available</th>
          </tr>
        </thead>
        <tbody>
          {vulnerabilities.map((vuln) => (
            <tr key={vuln.id} onClick={() => onSelectVulnerability(vuln)}>
              <td>{vuln.id}</td>
              <td>{vuln.title}</td>
              <td>{vuln.severity}</td>
              <td>{vuln.components}</td>
              <td>{vuln.fixAvailable ? "Yes" : "No"}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}

export default VulnerabilityList;
